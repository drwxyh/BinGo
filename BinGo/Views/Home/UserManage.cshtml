
@{
    ViewBag.Title = "UserManage";
}
<script src="~/Scripts/validator.min.js"></script>
<div class="container" ng-app="BinGoApp" ng-controller="UserManageCtrl">
<h2>用户管理</h2>
<div class="row" style="margin-bottom: 20px">
    <div class="input-group input-group-sm col-xs-4">
        <span class="input-group-addon" id="sizing-addon1">搜索</span>
        <input type="text" class="form-control" ng-model="searchText" placeholder="请输入关键字">
    </div>
    <div class="pull-right">
        <button class="btn btn-primary btn-sm" ng-click="add()">添加</button>
    </div>
</div>
<div class="container">
    <table class="table table-bordered  table-striped table-hover" style="text-align: center">
        <thead>
            <tr>
                <td class="col-md-2">序号</td>
                <td class="col-md-2">用户名</td>
                <td class="col-md-2">邮箱</td>
                <td class="col-md-2">手机号</td>
                <td class="col-md-4">操作</td>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="x in users | filter:searchText">
                <td>{{$index + 1}}</td>
                <td>{{x.username}}</td>
                <td>{{x.email}}</td>
                <td>{{x.phone}}</td>
                <td>
                    <button class="btn btn-info btn-sm" ng-click="detail(x.id)">详情</button>
                    <button class="btn btn-warning btn-sm" ng-click="update(x.id)">权限</button>
                    <button class="btn btn-danger btn-sm" ng-click="delete(x.id,x.username)">删除</button>
                </td>
            </tr>
        </tbody>
    </table>
    <nav>
        <ul class="pagination">
            <li>
                <a ng-click="Previous()">
                    <span>上一页</span>
                </a>
            </li>
            <li ng-repeat="page in pageList" ng-class="{active: isActivePage(currPage)}">
                <a ng-click="selectPage(totalPages)">{{ totalPages }}</a>
            </li>
            <li>
                <a ng-click="Next()">
                    <span>下一页</span>
                </a>
            </li>
        </ul>
    </nav>
    <!-- 添加信息 -->
    <div class="modal" id="add">

        <div class="modal-dialog">

            <div class="modal-content">

                <div class="modal-header">
                    <button class="close" data-dismiss="modal">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    <h3 class="modal-title">添加信息</h3>
                </div>

                <div class="modal-body">
                    <form data-toggle="validator" role="form">
                        <div class="form-group">
                            <label for="txtName" class="control-label">用户名</label>
                            <input type="text" class="form-control" ng-model="username" placeholder="用户名" data-error="请输入您的用户名" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtEmail" class="control-label">邮箱</label>
                            <input type="email" class="form-control" ng-model="email" placeholder="邮箱" data-error="您输入的邮箱格式不正确" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtPhone" class="control-label">手机号</label>
                            <input type="text" class="form-control" ng-model="phone" placeholder="手机号" data-error="请输入您的手机号" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtQuestion" class="control-label">验证问题</label>
                            <input type="text" class="form-control" ng-model="question" placeholder="验证问题" data-error="请输入您的验证问题" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtAnswer" class="control-label">问题答案</label>
                            <input type="text" class="form-control" ng-model="answer" placeholder="问题答案" data-error="请输入验证问题的答案" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <div class="form-inline row">
                                <label for="txtGender" class="control-label col-md-6">性别</label>
                                <label for="txtAge" class="control-label col-md-6">年龄</label>
                            </div>
                            <div class="form-inline row">
                                <div class="form-group col-md-6">
                                    <select ng-model="gender" ng-options="x for x in genderOptions" class="form-control" data-error="请选择您的性别！" required></select>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group col-md-6">
                                    <select ng-model="age" ng-options="x for x in ageOptions" class="form-control" data-error="请选择您的年龄！" required></select>
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-inline row">
                                <label class="control-label col-md-6">密码</label>
                                <label class="control-label col-md-6">确认密码</label>
                            </div>
                            <div class="form-inline row">
                                <div class="form-group col-md-6">
                                    <input type="password" data-minlength="6" class="form-control" ng-model="password" placeholder="密码" required />
                                    <div class="help-block">最小长度为六位</div>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="password" class="form-control" ng-model="cpassword" data-match="#txtPassword" data-match-error="密码不一致！" placeholder="确认密码" required />
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-success" ng-click="upload()">确定</button>
                    <button class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>

            </div>

        </div>

    </div>
    <!-- 详细信息-->
    <div class="modal" id="info">

        <div class="modal-dialog">

            <div class="modal-content">

                <div class="modal-header">
                    <button class="close" data-dismiss="modal">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    <h3 class="modal-title">详细信息</h3>
                </div>

                <div class="modal-body">
                    <form data-toggle="validator" role="form">
                        <div class="form-group">
                            <label for="txtName" class="control-label">用户名</label>
                            <input type="text" class="form-control" ng-model="username" readonly />
                        </div>
                        <div class="form-group">
                            <label for="txtEmail" class="control-label">邮箱</label>
                            <input type="email" class="form-control" ng-model="email" readonly />
                        </div>
                        <div class="form-group">
                            <label for="txtPhone" class="control-label">手机号</label>
                            <input type="text" class="form-control" ng-model="phone" readonly />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtQuestion" class="control-label">验证问题</label>
                            <input type="text" class="form-control" ng-model="question" readonly />
                        </div>
                        <div class="form-group">
                            <label for="txtAnswer" class="control-label">问题答案</label>
                            <input type="text" class="form-control" ng-model="answer" readonly />
                        </div>
                        <div class="form-group">
                            <div class="form-inline row">
                                <label for="txtGender" class="control-label col-md-6">性别</label>
                                <label for="txtAge" class="control-label col-md-6">年龄</label>
                            </div>
                            <div class="form-inline row">
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" ng-model="gender" readonly />
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" ng-model="age" readonly />
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>

            </div>

        </div>

    </div>
    <!-- 修改信息 -->
    <div class="modal" id="modify">

        <div class="modal-dialog">

            <div class="modal-content">

                <div class="modal-header">
                    <button class="close" data-dismiss="modal">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    <h3 class="modal-title">修改信息</h3>
                </div>

                <div class="modal-body">
                    <form data-toggle="validator" role="form">
                        <div class="form-group">
                            <label for="txtName" class="control-label">用户名</label>
                            <input type="text" class="form-control" ng-model="username" placeholder="用户名" data-error="请输入您的用户名" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtEmail" class="control-label">邮箱</label>
                            <input type="email" class="form-control" ng-model="email" placeholder="邮箱" data-error="您输入的邮箱格式不正确" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtPhone" class="control-label">手机号</label>
                            <input type="text" class="form-control" ng-model="phone" placeholder="手机号" data-error="请输入您的手机号" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtQuestion" class="control-label">验证问题</label>
                            <input type="text" class="form-control" ng-model="question" placeholder="验证问题" data-error="请输入您的验证问题" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <label for="txtAnswer" class="control-label">问题答案</label>
                            <input type="text" class="form-control" ng-model="answer" placeholder="问题答案" data-error="请输入验证问题的答案" required />
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <div class="form-inline row">
                                <label for="txtGender" class="control-label col-md-6">性别</label>
                                <label for="txtAge" class="control-label col-md-6">年龄</label>
                            </div>
                            <div class="form-inline row">
                                <div class="form-group col-md-6">
                                    <select ng-model="gender" ng-options="x for x in genderOptions" class="form-control" data-error="请选择您的性别！" required></select>
                                    <div class="help-block with-errors"></div>
                                </div>
                                <div class="form-group col-md-6">
                                    <select ng-model="age" ng-options="x for x in ageOptions" class="form-control" data-error="请选择您的年龄！" required></select>
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-inline row">
                                <label class="control-label col-md-6">密码</label>
                                <label class="control-label col-md-6">确认密码</label>
                            </div>
                            <div class="form-inline row">
                                <div class="form-group col-md-6">
                                    <input type="password" data-minlength="6" class="form-control" id="txtPassword" ng-model="password" placeholder="密码" required />
                                    <div class="help-block">最小长度为六位</div>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="password" class="form-control" id="txtConfirmPassword" ng-model="cpassword" data-match="#txtPassword" data-match-error="密码不一致！" placeholder="确认密码" required />
                                    <div class="help-block with-errors"></div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button class="btn btn-success" ng-click="ensure()">确定</button>
                </div>

            </div>

        </div>

    </div>
</div>
</div>