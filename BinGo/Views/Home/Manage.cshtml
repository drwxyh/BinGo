
@{
    ViewBag.Title = "UserManage";
}
<link href="~/Content/htmleaf-demo.css" rel="stylesheet" />
<link href="~/Content/normalize.css" rel="stylesheet" />
<script src="~/Scripts/validator.min.js"></script>
<style type="text/css">
    .demo {
        width: 100%;
        height: 600px;
        min-height: 600px;
    }

    a:hover, a:focus {
        text-decoration: none;
        outline: none;
    }

    .tab .nav-tabs {
        border-bottom: 0 none;
    }

        .tab .nav-tabs li {
            margin-right: 10px;
        }

            .tab .nav-tabs li a {
                position: relative;
                padding: 15px;
                color: #fff;
                font-size: 17px;
                z-index: 1;
            }

                .tab .nav-tabs li a:hover {
                    background: transparent;
                    border: 1px solid transparent;
                }

                .tab .nav-tabs li a:before {
                    content: "";
                    width: 100%;
                    height: 100%;
                    position: absolute;
                    bottom: 8px;
                    left: -1px;
                    font-size: 17px;
                    background: #72b7a0;
                    border: 1px solid #d3d3d3;
                    border-bottom: 0px none;
                    border-radius: 10px 10px 0 0;
                    transform-origin: left center 0;
                    transform: perspective(4px) rotateX(2deg);
                    z-index: -1;
                }

            .tab .nav-tabs li.active a:before {
                background: #fff;
            }

            .tab .nav-tabs li.active a,
            .tab .nav-tabs li.active a:focus,
            .tab .nav-tabs li.active a:hover {
                border: 1px solid transparent;
                background: transparent;
                color: #444;
                z-index: 2;
            }

    .tab-content .tab-pane {
        border: 1px solid #d3d3d3;
        padding: 20px;
        background: #fff;
        line-height: 22px;
    }

        .tab-content .tab-pane h3 {
            margin-top: 0;
        }

    .mt30 {
        margin-top: 30px;
    }
</style>
<div class="container" ng-app="BinGoApp" ng-controller="ManageCtrl" style="margin-top: 40px;">
    <div class="row">
        <div class="col-md-12 mt30">
            <div class="tab" role="tabpanel">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#Section1" aria-controls="home" role="tab" data-toggle="tab">用户管理</a></li>
                    <li role="presentation"><a href="#Section2" aria-controls="profile" role="tab" data-toggle="tab">电影管理</a></li>
                </ul>
                <!-- Tab panes -->
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="Section1">
                        <div class="row" style="margin-bottom: 20px">
                            <div class="input-group input-group-sm col-xs-4">
                                <span class="input-group-addon">搜索</span>
                                <input type="text" class="form-control" ng-model="usearchText" placeholder="请输入关键字">
                            </div>
                        </div>
                        <div class="container">
                            <table class="table table-bordered  table-striped table-hover" style="text-align: center">
                                <thead>
                                    <tr>
                                        <td class="col-md-1">序号</td>
                                        <td class="col-md-3">用户名</td>
                                        <td class="col-md-3">邮箱</td>
                                        <td class="col-md-3">手机号</td>
                                        <td class="col-md-2">操作</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="x in users | filter:searchText">
                                        <td>{{$index + 1}}</td>
                                        <td>{{x.username}}</td>
                                        <td>{{x.email}}</td>
                                        <td>{{x.phone}}</td>
                                        <td>
                                            <button class="btn btn-info btn-sm" ng-click="UDetail(x.id)">详情</button>
                                            <button class="btn btn-warning btn-sm" ng-click="UUpdate(x.id)">修改</button>
                                            <button class="btn btn-danger btn-sm" ng-click="UDelete(x.id,x.username)">删除</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <nav>
                                <ul class="pagination">
                                    <li>
                                        <a ng-click="UPrevious()">
                                            <span>上一页</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a ng-click="UNext()">
                                            <span>下一页</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                            <!-- 详细信息-->
                            <div class="modal" id="uinfo">

                                <div class="modal-dialog">

                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <button class="close" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                            <h3 class="modal-title">详细信息</h3>
                                        </div>

                                        <div class="modal-body">
                                            <form data-toggle="validator" role="form">
                                                <div class="form-group">
                                                    <label for="txtName" class="control-label">用户名</label>
                                                    <input type="text" class="form-control" ng-model="username" readonly />
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtEmail" class="control-label">邮箱</label>
                                                    <input type="email" class="form-control" ng-model="email" readonly />
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtPhone" class="control-label">手机号</label>
                                                    <input type="text" class="form-control" ng-model="phone" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtQuestion" class="control-label">验证问题</label>
                                                    <input type="text" class="form-control" ng-model="question" readonly />
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtAnswer" class="control-label">问题答案</label>
                                                    <input type="text" class="form-control" ng-model="answer" readonly />
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-inline row">
                                                        <label for="txtGender" class="control-label col-md-6">性别</label>
                                                        <label for="txtAge" class="control-label col-md-6">年龄</label>
                                                    </div>
                                                    <div class="form-inline row">
                                                        <div class="form-group col-md-6">
                                                            <input type="text" class="form-control" ng-model="gender" readonly />
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <input type="text" class="form-control" ng-model="age" readonly />
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <div class="modal-footer">
                                            <button class="btn btn-default" data-dismiss="modal">关闭</button>
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <!-- 修改信息 -->
                            <div class="modal" id="umodify">

                                <div class="modal-dialog">

                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <button class="close" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                            <h3 class="modal-title">修改信息</h3>
                                        </div>

                                        <div class="modal-body">
                                            <form data-toggle="validator" role="form">
                                                <div class="form-group">
                                                    <label for="txtName" class="control-label">用户名</label>
                                                    <input type="text" class="form-control" ng-model="username" placeholder="用户名" data-error="请输入您的用户名" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtEmail" class="control-label">邮箱</label>
                                                    <input type="email" class="form-control" ng-model="email" placeholder="邮箱" data-error="您输入的邮箱格式不正确" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtPhone" class="control-label">手机号</label>
                                                    <input type="text" class="form-control" ng-model="phone" placeholder="手机号" data-error="请输入您的手机号" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtQuestion" class="control-label">验证问题</label>
                                                    <input type="text" class="form-control" ng-model="question" placeholder="验证问题" data-error="请输入您的验证问题" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="txtAnswer" class="control-label">问题答案</label>
                                                    <input type="text" class="form-control" ng-model="answer" placeholder="问题答案" data-error="请输入验证问题的答案" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-inline row">
                                                        <label for="txtGender" class="control-label col-md-6">性别</label>
                                                        <label for="txtAge" class="control-label col-md-6">年龄</label>
                                                    </div>
                                                    <div class="form-inline row">
                                                        <div class="form-group col-md-6">
                                                            <select ng-model="gender" ng-options="x for x in genderOptions" class="form-control" data-error="请选择您的性别！" required></select>
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <select ng-model="age" ng-options="x for x in ageOptions" class="form-control" data-error="请选择您的年龄！" required></select>
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-inline row">
                                                        <label class="control-label col-md-6">密码</label>
                                                        <label class="control-label col-md-6">确认密码</label>
                                                    </div>
                                                    <div class="form-inline row">
                                                        <div class="form-group col-md-6">
                                                            <input type="password" data-minlength="6" class="form-control" id="txtPassword" ng-model="password" placeholder="密码" required />
                                                            <div class="help-block">最小长度为六位</div>
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <input type="password" class="form-control" id="txtConfirmPassword" ng-model="cpassword" data-match="#txtPassword" data-match-error="密码不一致！" placeholder="确认密码" required />
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <div class="modal-footer">
                                            <button class="btn btn-default" data-dismiss="modal">关闭</button>
                                            <button class="btn btn-success" ng-click="UEnsure()">确定</button>
                                        </div>

                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="Section2">
                        <div class="row" style="margin-bottom: 20px">
                            <div class="input-group input-group-sm col-xs-4">
                                <span class="input-group-addon">搜索</span>
                                <input type="text" class="form-control" ng-model="msearchText" placeholder="请输入关键字">
                            </div>
                            <div class="pull-right">
                                <button class="btn btn-primary btn-sm" ng-click="MAdd()">添加</button>
                            </div>
                        </div>
                        <div class="container">
                            <table class="table table-bordered  table-striped table-hover" style="text-align: center">
                                <thead>
                                    <tr>
                                        <td class="col-md-1">序号</td>
                                        <td class="col-md-3">片名</td>
                                        <td class="col-md-3">导演</td>
                                        <td class="col-md-3">主演</td>
                                        <td class="col-md-2">操作</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="x in movies | filter:msearchText">
                                        <td>{{$index + 1}}</td>
                                        <td>{{x.movie_name}}</td>
                                        <td>{{x.movie_actor}}</td>
                                        <td>{{x.movie_keyword}}</td>
                                        <td>
                                            <button class="btn btn-info btn-sm" ng-click="MDetail(x.id)">详情</button>
                                            <button class="btn btn-warning btn-sm" ng-click="MUpdate(x.id)">修改</button>
                                            <button class="btn btn-danger btn-sm" ng-click="MDelete(x.id,x.movie_name)">删除</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <nav>
                                <ul class="pagination">
                                    <li>
                                        <a ng-click="MPrevious()">
                                            <span>上一页</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a ng-click="MNext()">
                                            <span>下一页</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                            <!-- 添加信息 -->
                            <div class="modal" id="madd">

                                <div class="modal-dialog">

                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <button class="close" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                            <h3 class="modal-title">添加信息</h3>
                                        </div>

                                        <div class="modal-body">
                                            <form data-toggle="validator" role="form">
                                                <div class="form-group">
                                                    <label class="control-label">片号</label>
                                                    <input type="text" class="form-control" ng-model="movieid" placeholder="电影号" data-error="请输入电影号" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">片名</label>
                                                    <input type="text" class="form-control" ng-model="moviename" placeholder="片名" data-error="请输入电影名称" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">导演</label>
                                                    <input type="text" class="form-control" ng-model="moviedirector" placeholder="导演" data-error="请输入导演名" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">演员</label>
                                                    <input type="text" class="form-control" ng-model="movieactor" placeholder="演员" data-error="请输入演员名" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">语言</label>
                                                    <input type="text" class="form-control" ng-model="movielanguage" placeholder="语言" data-error="请输入电影语言" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">地区</label>
                                                    <input type="text" class="form-control" ng-model="moviedistrict" placeholder="地区" data-error="请输入电影发行地区" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">时间</label>
                                                    <input type="text" class="form-control" ng-model="moviedate" placeholder="时间" data-error="请输入电影发行时间" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">海报</label>
                                                    <input type="text" class="form-control" ng-model="moviedistrict" placeholder="海报" data-error="请输入电影海报url" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">主题</label>
                                                    <input type="text" class="form-control" ng-model="moviekeyword" placeholder="主题" data-error="请输入电影主题" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">其他</label>
                                                    <input type="text" class="form-control" ng-model="movieimdbid" placeholder="其他" data-error="请输入其他信息" />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-inline row">
                                                        <label class="control-label col-md-6">类型</label>
                                                        <label class="control-label col-md-6">时长</label>
                                                    </div>
                                                    <div class="form-inline row">
                                                        <div class="form-group col-md-6">
                                                            <select ng-model="movietype" ng-options="x for x in typeOptions" class="form-control" data-error="请选择电影类型！" required></select>
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <select ng-model="movietime" ng-options="x for x in timeOptions" class="form-control" data-error="请选择电影时长！" required></select>
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <div class="modal-footer">
                                            <button class="btn btn-success" ng-click="MUpload()">确定</button>
                                            <button class="btn btn-default" data-dismiss="modal">关闭</button>
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <!-- 详细信息-->
                            <div class="modal" id="minfo">

                                <div class="modal-dialog">

                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <button class="close" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                            <h3 class="modal-title">详细信息</h3>
                                        </div>

                                        <div class="modal-body">
                                            <form data-toggle="validator" role="form">
                                                <div class="form-group">
                                                    <label class="control-label">片号</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_id" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">片名</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_name" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">导演</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_director" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">演员</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_actor" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">语言</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_language" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">地区</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_district" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">时间</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_date" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">海报</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_district" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">主题</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_keyword" readonly />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">其他</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_imdbid" readonly />
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-inline row">
                                                        <label class="control-label col-md-6">类型</label>
                                                        <label class="control-label col-md-6">时长</label>
                                                    </div>
                                                    <div class="form-inline row">
                                                        <div class="form-group col-md-6">
                                                            <input ng-model="movie.movie_typeid" class="form-control" readonly />
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <input ng-model="movie.movie_time" class="form-control" readonly />
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <div class="modal-footer">
                                            <button class="btn btn-default" data-dismiss="modal">关闭</button>
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <!-- 修改信息 -->
                            <div class="modal" id="mmodify">

                                <div class="modal-dialog">

                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <button class="close" data-dismiss="modal">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                            <h3 class="modal-title">修改信息</h3>
                                        </div>

                                        <div class="modal-body">
                                            <form data-toggle="validator" role="form">
                                                <div class="form-group">
                                                    <label class="control-label">片号</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_id" placeholder="电影号" data-error="请输入电影号" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">片名</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_name" placeholder="片名" data-error="请输入电影名称" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">导演</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_director" placeholder="导演" data-error="请输入导演名" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">演员</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_actor" placeholder="演员" data-error="请输入演员名" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">语言</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_language" placeholder="语言" data-error="请输入电影语言" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">地区</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_district" placeholder="地区" data-error="请输入电影发行地区" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">时间</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_date" placeholder="时间" data-error="请输入电影发行时间" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">海报</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_district" placeholder="海报" data-error="请输入电影海报url" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">主题</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_keyword" placeholder="主题" data-error="请输入电影主题" required />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label">其他</label>
                                                    <input type="text" class="form-control" ng-model="movie.movie_imdbid" placeholder="其他" data-error="请输入其他信息" />
                                                    <div class="help-block with-errors"></div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-inline row">
                                                        <label class="control-label col-md-6">类型</label>
                                                        <label class="control-label col-md-6">时长</label>
                                                    </div>
                                                    <div class="form-inline row">
                                                        <div class="form-group col-md-6">
                                                            <select ng-model="movietype" ng-options="x for x in typeOptions" class="form-control" data-error="请选择电影类型！" required></select>
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <select ng-model="movietime" ng-options="x for x in timeOptions" class="form-control" data-error="请选择电影时长！" required></select>
                                                            <div class="help-block with-errors"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <div class="modal-footer">
                                            <button class="btn btn-default" data-dismiss="modal">关闭</button>
                                            <button class="btn btn-success" ng-click="MEnsure()">确定</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
